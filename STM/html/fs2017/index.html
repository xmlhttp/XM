<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>广州市劲驰互联网科技有限公司</title><style>.fixed:after{content:".";display:block;height:0;clear:both;visibility:hidden}.fixed{display:block}.fixed{min-height:1%}* html .fixed{height:1%}body{min-height:420px;min-width:700px;margin:0;padding:0 0 0 0;font-size:12px;line-height:22px;font-family:"微软雅黑";text-align:center;background:#fff}body a{outline:none;text-decoration:none}form,ul,li,p,h1,h2,h3,h4,h5,h6{margin:0;padding:0}input,select{font-size:12px;line-height:16px}img{border:0}ul,li{list-style-type:none}a{color:#f8db6a;cursor:pointer}table{border-collapse:collapse;width:100%;padding:0}table tr td,table tr th{border-collapse:collapse;padding:0;color:#4b4b4b}.top{height:60px;background:#5f84b9}.mid{position:relative}.left{width:18%;background:#edf0f8;border-right:1px solid #bfd1dd;position:absolute;top:0;left:0;height:100%}.right{margin-left:18%;margin-right:0}.bot{height:32px;line-height:32px;border-top:1px solid #c1d1dc;color:#999;font-family:Comic Sans MS;font-size:12px;text-align:left;padding-left:10px;padding-right:10px;background:#f3f4f9}.copyright{float:right}.bot_ver{margin-right:25px}.logo{float:left;width:370px;text-align:left;font-size:20px;height:40px;line-height:40px;margin-left:25px;margin-top:8px;color:#fff;font-weight:bold;letter-spacing:5px}.topright{float:right;width:350px;height:30px;line-height:30px;margin-top:14px;color:#fff;text-align:right}.topright a{margin-left:20px;margin-right:20px;color:#fff;font-size:12px}.left a{display:block;height:45px;color:#576a90;padding-left:18px;border-bottom:#bfd1dd solid 1px;text-align:left;line-height:45px;font-size:14px;background:#d9dff0;letter-spacing:2px}.left a:hover,.left a.active{color:#7e9cf1;background:#eceff8}.navtop{height:35px;line-height:35px;text-align:left;background:#f8f9fb;border-bottom:#dbe7ef solid 1px;color:#a5a5a5;padding-left:10px}.navtop a,.navtop span{margin-right:5px}.navtop a{color:#84b864}.navtop span{margin-left:5px;color:#8796b1}.homeico{float:left;width:17px;height:12px;position:relative;margin-top:12px;margin-left:5px;margin-right:3px}.homeico div{font-size:0;line-height:0}.hometop{position:absolute;border-right:8px transparent solid;border-left:8px transparent solid;border-top:0;border-bottom:5px #acacac solid;width:1px;height:0}.homebot{position:absolute;top:6px;width:11px;height:6px;left:3px;background:#acacac}.info_p{padding:15px}.info_b{border:1px solid #c1d1dc;color:#9cacaf;font-family:Arial,Helvetica,sans-serif;font-size:14px;line-height:26px;margin-top:10px;padding:7px 12px;text-align:left}.info_i{border:#c1d1dc solid 1px}.info_title{height:32px;border-bottom:#c1d1dc solid 1px;background:#eceef3;padding-left:20px;line-height:32px;color:#74829d;text-align:left;letter-spacing:1px}.info_tab{margin-top:10px}.info_tab tr td{padding-top:5px;padding-bottom:5px;color:#4b4b4b}.info_tab tr td table{width:auto}.input1{padding:5px 6px;width:200px;height:18px;line-height:18px;border:#dcdcdc solid 1px;color:#4b4b4b;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px;font-size:12px;font-family:"微软雅黑";color:#4b4b4b;letter-spacing:1px}.btn{width:100px;height:30px;border:0;line-height:23px;background:#7b99c5;color:#fff;font-family:"微软雅黑";-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px}.step1{position:relative;background:#ddd}.login{position:absolute;left:50%;top:50%;margin-left:-200px;margin-top:-200px;width:400px;height:260px;border:#c1d1dc solid 2px;background:#fff;border-radius:8px}.log_tit{height:45px;line-height:45px;background:#eceef3;text-align:center;font-size:16px;letter-spacing:3px;border-bottom:#c1d1dc solid 2px;color:#74829d;border-top-left-radius:8px;border-top-right-radius:8px}.log_tab{margin-top:25px}.log_tab td{text-align:left;padding-top:8px;padding-bottom:8px}.log_tab td.tbleft{text-align:right;padding-right:5px;font-size:14px;letter-spacing:1px;color:#74829d;width:35%}.log_tab .btn{display:block;margin-left:auto;margin-right:auto;height:35px;line-height:35px;width:310px;font-size:16px}.cdiv{float:left;width:130px; text-align:left;height:32px;padding-top:2px}</style></head><body scroll="no"><div id="step1" class="step1"><div class="login"><div class="log_tit">用 户 登 录</div>

<form method="get" target="frame_post" action="/login.cgi" onsubmit="return checklogin()"><table class="log_tab"><tr><td class="tbleft">管理员账号：</td><td><input type="text" class="input1" id="uname" name="uname" maxlength="16" /></td></tr><tr><td class="tbleft">管理员密码：</td><td><input type="password" class="input1" id="upwd" name="upwd" maxlength="12" /></td></tr><tr><td colspan="2" style="padding-top:15px"><input type="submit" class="btn" value="登 录"  /></td></tr></table></form>

</div></div><div id="step2" style="display:none"><div class="top"><div class="topright"><a href="http://www.vmuui.com" target="_blank">官网首页</a>|<a href="http://www.vmuui.com/index.php?s=/Home/Index/Copyright.html" target="_blank">版权申明</a>|<a href="http://www.vmuui.com/index.php?s=/Home/Index/Help.html" target="_blank">帮助中心</a>|<a href="javascript:logout()">退出</a></div><a class="logo" href="http://www.vmuui.com" target="_blank">广州市劲驰互联网科技有限公司</a></div><div class="mid"><div class="left" id="nav"><a class="active" href="javascript:nav(0)">板卡信息</a><a href="javascript:nav(1)">地址设置</a><a href="javascript:nav(2)">远程连接</a><a href="javascript:nav(3)">阀值设置</a><a href="javascript:nav(4)">主机控制</a><a href="javascript:nav(5)">修改密码</a></div><div class="right"><div class="navtop"><div class="homeico"><div class="hometop"></div><div class="homebot"></div></div><a href="http://www.vmuui.com" target="_blank">官网首页</a>><span id="topnav">板卡信息</span></div><div class="info_p"><div class="info_i"><div class="info_title" id="info_title">板卡信息</div><div class="info_txt" id="info_txt"><div id="info_block0">

<form method="get" target="frame_post" action="/info.cgi" onsubmit="return checkinfo()">
<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td align="right"  width="30%">板卡名称：</td><td align="left"><input type="text" class="input1" id="icname" name="icname" maxlength="16"/></td></tr><tr><td align="right">站点编号：</td><td align="left"><input type="text" class="input1" id="siteid" name="siteid" maxlength="5"/><input type="hidden" id="n1" name="uname"/><input type="hidden" id="p1" name="upwd"/></td></tr><tr><td align="right">站点密码：</td><td align="left"><input type="text" class="input1" id="sitepwd" name="sitepwd" maxlength="12"/></td></tr>
<tr><td align="right">最大输出电流：</td><td align="left"><select id="pt" name="pt"  style="width:212px; height:28px; line-height:28px;border: #dcdcdc solid 1px">
<option value="166">10A</option>
<option value="266">16A</option>
<option value="533">32A</option>
<option value="892">63A</option>
</select></td></tr>
<tr><td></td><td align="left"><input type="submit" class="btn" value="保 存"/></td></tr></table>
</form>

</div><div id="info_block1"  style="display:none">
<form method="get" target="frame_post" action="/ip.cgi" onsubmit="return checkip()">
<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td align="right"  width="30%">板卡地址：</td><td align="left"><input type="text" class="input1" id="ipadd" name="ipadd" maxlength="15" /></td></tr><tr><td align="right">子网掩码：</td><td align="left"><input type="text" class="input1" id="mask" name="mask" maxlength="15"/></td></tr><tr><td align="right">板卡网关：</td><td align="left"><input type="text" class="input1" id="gateway" name="gateway" maxlength="15"/><input type="hidden" id="n2" name="uname"/><input type="hidden" id="p2" name="upwd"/></td></tr><tr><td></td><td align="left"><input type="submit" class="btn" value="保 存"/></td></tr></table>
</form>

</div><div id="info_block2" style="display:none">
<form method="get" target="frame_post" action="/cloud.cgi" onsubmit="return checkcloud()">
<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td align="right"  width="30%">云端地址：</td><td align="left"><input type="text" class="input1" id="cadd" name="cadd" maxlength="15"/></td></tr><tr><td align="right">云端端口：</td><td align="left"><input type="text" class="input1" id="cport" name="cport" maxlength="5"/></td></tr><tr><td align="right">服务器地址：</td><td align="left"><input type="text" class="input1" maxlength="25" id="cweb" name="cweb"/><input type="hidden" id="n3" name="uname"/><input type="hidden" id="p3" name="upwd"/></td></tr><tr><td></td><td align="left"><input type="submit" class="btn" value="保 存" /></td></tr></table>
</form>

</div><div id="info_block3" style="display:none">
<form method="get" target="frame_post" action="/thres.cgi" onsubmit="return checkthres()">
<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td align="right"  width="30%">电压上限：</td><td align="left"><input type="text" class="input1" id="vtop" name="vtop" maxlength="3"/> V</td></tr><tr><td align="right">电压下线：</td><td align="left"><input type="text" class="input1" id="vbot" name="vbot" maxlength="3"/> V</td></tr><tr><td align="right">电流上限：</td><td align="left"><input type="text" class="input1" maxlength="6" id="atop" name="atop" maxlength="6"/> A<input type="hidden" id="n8" name="uname"/><input type="hidden" id="p8" name="upwd"/><input type="hidden" class="input1" maxlength="7" id="atop1" name="atop1" maxlength="7"/></td></tr><tr><td></td><td align="left"><input type="submit" class="btn" value="保 存" /></td></tr></table>
</form>

</div><div id="info_block4" style="display:none">

<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td align="right"  width="30%">充电桩控制：</td><td align="left"><div class="cdiv">
<form method="get" target="frame_post" action="/cpower.cgi" onsubmit="return checkcpower1()">
<input type="submit" class="btn" value="开启充电" /><input type="hidden" id="n5" name="uname"/><input type="hidden" id="p5" name="upwd"/><input type="hidden" id="cval1" name="cval" value="1"/>
</form>
</div><div class="cdiv">
<form method="get" target="frame_post" action="/cpower.cgi" onsubmit="return checkcpower0()">
<input type="submit" class="btn" value="停止充电" /><input type="hidden" id="n6" name="uname"/><input type="hidden" id="p6" name="upwd"/><input type="hidden" id="cval0" name="cval" value="0"/>
</form>
</div>
</td></tr><tr><td></td><td></td></tr><tr><td align="right">板卡控制：</td><td align="left">
<form method="get" target="frame_post" action="/rest.cgi" onsubmit="return checkrest()">
<input type="submit" class="btn" value="重新启动"/><input type="hidden" id="n7" name="uname"/><input type="hidden" id="p7" name="upwd"/>
</form>

</td></tr></table>

</div><div id="info_block5" style="display:none">

<form method="get" target="frame_post" action="/cpwd.cgi" onsubmit="return checkpwd()">
<table  border="0" cellpadding="2" cellspacing="0" class="info_tab"><tr><td align="right"  width="30%">旧密码：</td><td align="left"><input type="password" class="input1" id="oldpwd" name="oldpwd" maxlength="10"/></td></tr><tr><td align="right">新密码：</td><td align="left"><input type="password" class="input1" id="newpwd" name="newpwd" maxlength="10"/></td></tr><tr><td align="right">确认密码：</td><td align="left"><input type="password" class="input1" id="repwd" name="repwd" maxlength="10"/><input type="hidden" id="n4" name="uname"/><input type="hidden" id="p4" name="upwd"/></td></tr><tr><td></td><td align="left"><input type="submit" class="btn" value="修 改" /></td></tr></table>
</form>
</div></div></div>
<div class="info_b">劲驰网络 STM32.NET Ver 1.0 beta </div></div></div></div>
<div class="bot"><span class="copyright">Powered by VMUUI.COM <font style="font-family:Verdana, Geneva, sans-serif">©</font> 2016-2017</span>当前版本：<span class="bot_ver" id="bot_ver">VM-AC.001</span>板卡状态：<span id="bot_status">空闲中</span></div>

</div><div class="step3" style="display:none;" id="step3"><iframe id="frame_post" name="frame_post"  src="about:blank"></iframe></div>
<script>
var $=function(id){return document.getElementById(id)},
$c=function(id){return $(id).children},
writeCookie=function(name, value, day){var expire="";expire=new Date();expire.setTime(expire.getTime()+day*24*3600*1000);expire=expire.toGMTString();document.cookie=name+"="+escape(value)+";expires="+expire},

readCookie=function(name){var cookieValue="",search1=name+"=";if(document.cookie.length>0){offset=document.cookie.indexOf(search1);if(offset!=-1){offset+=search1.length;var end=document.cookie.indexOf(";",offset);if(end==-1)end=document.cookie.length;cookieValue=unescape(document.cookie.substring(offset,end))}}return cookieValue},

delCookie=function(name){writeCookie(name,"",-1)},
reg=/^[0-9a-zA-Z]+$/,
reg1=/^([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/,
st=null;
window.onload=function(){init()};
window.onresize=function(){init()};
function init(){var h=document.documentElement.clientHeight;$("step1").style.height=h+"px";$("info_txt").style.height=(h-258)+"px";$("nav").style.height="100%"}
function nav(t){for(var i=0;i<$c("nav").length;i++){if(i==t){$c("nav")[i].className="active";$("info_block"+i).style.display="block"}else{$c("nav")[i].className="";$("info_block"+i).style.display="none"}}switch(t){case 0:$("info_title").innerHTML=$("topnav").innerHTML="板卡信息";break;case 1:	$("info_title").innerHTML=$("topnav").innerHTML="地址设置";	break;case 2:$("info_title").innerHTML=$("topnav").innerHTML="远程连接";break;case 3:$("info_title").innerHTML=$("topnav").innerHTML="阀值设置";	break;case 4:$("info_title").innerHTML=$("topnav").innerHTML="主机控制";break;case 5:$("info_title").innerHTML=$("topnav").innerHTML="修改密码";break}}

function checklogin(){var uname=$("uname").value,upwd=$("upwd").value;if(uname!="admin"){alert("用户名有误！");return false}if(upwd.length==0){alert("密码不能为空！");return false}if(upwd.length<5||upwd.length>10){alert("密码长度在5-10位之间！");return false}}

function checkinfo(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}if($("icname").value.length==0||$("icname").value.length>16){alert("板卡名称必须在1-16位之间！");return false}if(!reg.test($("icname").value)){alert("板卡名称只能为字母和数字！");return false}if(isNaN($("siteid").value)){alert("站点编号只能为数字！");return false}if($("siteid").value<0||$("siteid").value>65535){alert("站点编号在0-65535之间！");return false}if($("sitepwd").value.length<6||$("sitepwd").value.length>12){alert("站点密码在6-12位之间！");return false}$("n1").value=readCookie("uname");$("p1").value=readCookie("upwd")}

function checkip(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}if(!reg1.test($("ipadd").value)){alert("板卡地址错误！");return false}if(!reg1.test($("mask").value)){alert("子网掩码错误！");return false}if(!reg1.test($("gateway").value)){alert("板卡网关错误！");return false}$("n2").value=readCookie("uname");$("p2").value=readCookie("upwd")}

function checkcloud(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}if(!reg1.test($("cadd").value)){alert("板卡地址错误！");return false}if(isNaN($("cport").value)){alert("端口号只能为数字！");return false}if($("cport").value<0||$("cport").value>65535){alert("端口号在0-65535之间！");return false}if($("cweb").value.length<3||$("cweb").value.length>25){alert("服务器地址长度在3-25位之间！");return false}$("n3").value=readCookie("uname");$("p3").value=readCookie("upwd")}

function checkthres(){
if(readCookie("uname")==""||readCookie("upwd")==""){
	$("step2").style.display="none";
	$("step1").style.display="block";
	logout();
	alert("请先登录！");
	return false
}

if(isNaN($("vtop").value)){alert("电压上限只能为数字！");return false}if($("vtop").value<0||$("vtop").value>1000){alert("电压上限在0-1000之间！");return false}
if(isNaN($("vbot").value)){alert("电压下限只能为数字！");return false}if($("vbot").value<0||$("vbot").value>1000){alert("电压下限在0-1000之间！");return false}
if(isNaN($("atop").value)){alert("电流上限只能为数字！");return false}if($("atop").value<0||$("atop").value>1000000){alert("电流上限设置过大！");return false}

$("n8").value=readCookie("uname");$("p8").value=readCookie("upwd");$("atop1").value=$("atop").value*1000
		
}

function checkpwd(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}if(readCookie("upwd")!=$("oldpwd").value){alert("原密码不正确！");return false}if($("newpwd").value!=$("repwd").value){alert("两次密码不正确！");return false}if($("newpwd").value.length<5||$("newpwd").value.length>10){alert("密码只能为5-10位！");return false}$("n4").value=readCookie("uname");$("p4").value=readCookie("upwd")}

function checkcpower1(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}$("n5").value=readCookie("uname");$("p5").value=readCookie("upwd")}

function checkcpower0(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}$("n6").value=readCookie("uname");$("p6").value=readCookie("upwd")}

function checkrest(){if(readCookie("uname")==""||readCookie("upwd")==""){$("step2").style.display="none";$("step1").style.display="block";alert("请先登录！");return false}$("n7").value=readCookie("uname");$("p7").value=readCookie("upwd");st=setTimeout(function(){removeElement($("frame_post"));$("step3").innerHTML='<iframe id="frame_post" name="frame_post" src="about:blank"></iframe>';$("step2").style.display="none";$("step1").style.display="block";alert("重启成功，板卡重启需要一段时间，请稍后重连！")},500)}

function removeElement(_element){var _parentElement=_element.parentNode;if(_parentElement){_parentElement.removeChild(_element)}}

function logout(){delCookie("uname");delCookie("upwd");$("oldpwd").value=$("newpwd").value=$("repwd").value="";$("step2").style.display="none";$("step1").style.display="block";resetpn()}

function resetpn(){$("atop1").value=$("atop").value=$("vbot").value=$("vtop").value=$("cweb").value=$("cport").value=$("cadd").value=$("gateway").value=$("mask").value=$("ipadd").value=$("sitepwd").value=$("siteid").value=$("icname").value=$("n1").value=$("n2").value=$("n3").value=$("n4").value=$("n5").value=$("n6").value=$("n7").value=$("n8").value=$("p1").value=$("p2").value=$("p3").value=$("p4").value=$("p5").value=$("p6").value=$("p7").value=$("p8").value="";if(st!=null){clearTimeout(st);st=null}}

function loginsu(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p){
	$("icname").value=a;
	$("siteid").value=b;
	$("sitepwd").value=c;
	$("ipadd").value=d;
	$("mask").value=f;
	$("gateway").value=g;
	$("cadd").value=h;
	$("cport").value=i;
	$("cweb").value=j;
	$("vtop").value=k;
	$("vbot").value=l;
	$("atop").value=m/1000;
	$("bot_ver").innerText=n;
	$("bot_status").innerText=o?"充电中":"空闲中";
	writeCookie("uname",$("uname").value,1);
	writeCookie("upwd",$("upwd").value,1);
	$("upwd").value=$("uname").value="";
	$("step1").style.display="none";
	$("step2").style.display="block";
	switch(p){
		case 166:
			$("pt").options[0].selected=true;
			break;
		case 266:
			$("pt").options[1].selected=true;
			break;
		case 533:
			$("pt").options[2].selected=true;
			break;
		case 892:
			$("pt").options[3].selected=true;
			break	  	
	}
	$("frame_post").src="about:blank"
}

function loginerr(b){
	var a= parseInt(b);
	switch(a){
		case 0:
			logout();
			alert("用户名或密码错误！");
			break;
		case 1:
			logout();
			alert("板卡需要初始化！");
			break;
		case 2:
			alert("提交参数有误！");
			break;
		case 3:
			alert("信息修改成功！");
			break;
		case 4:
			alert("信息修改成功，重启后生效！");
			break;
		case 5:
			logout();
			alert("密码修改成功，请重新登录！");
			break;
		case 6:
			alert("操作成功！");
			break;
		case 7:
			alert("操作失败，该板块处于充电状态！");
			break;
		case 8:
			alert("操作失败，该板块处于空闲状态！");
			break;
		case 9:
			alert("操作失败，请检查车与桩之间的连接！");
			break;
		case 10:
			alert("操作失败，无法识别的车信号，可能未插枪！");
			break;
		case 11:
			alert("操作失败，车反馈信号有误！");
			break;
		case 12:
			alert("操作失败，长时间没有收到充电接触器反馈！");
			break;
		case 13:
			alert("操作失败，急停按钮被按下！");
			break;
		case 14:
			alert("操作失败，最后一次检测信号错误！");
			break;
		default:
			alert("操作失败，未知的错误！");
			break;
	}
	$("frame_post").src="about:blank"
}
</script></body></html>